{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ name }} - Waifuverse</title>
    <link rel="icon" href="{% static 'logo.png' %}" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Exo+2:wght@300;400;500;600;700&family=Audiowide&display=swap" rel="stylesheet">
    <link href="{% static 'tooplate-neural-style.css' %}" rel="stylesheet">
</head>
<body>
    <canvas id="neural-bg"></canvas>

    <nav id="navbar">
        <div class="nav-container">
            <a href="{% url 'waifus_gallery' %}" class="logo-container">
                <img src="{% static 'logo.png' %}" alt="Waifus Universal Logo" style="height: 50px; width: auto;">
                <span class="logo-text">WAIFUVERSE</span>
            </a>

            <div class="mobile-menu-toggle" id="mobile-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>

            <div class="nav-menu" id="nav-menu">
                <ul>
                    <li><a href="{% url 'waifus_gallery' %}">GALLERY</a></li>
                    <li><a href="{% url 'edit_waifu' name %}" class="active">EDIT WAIFU</a></li>
                    <li><a href="/info/">INFO</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="home" class="hero">
        <div class="hero-content">
            <h1 class="glitch" data-text="{{ name }}">{{ name }}</h1>
            <p class="subtitle">Detalles de la Waifu</p>
        </div>
        <a href="#detail" class="scroll-btn">
            <div class="scroll-btn-inner">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M7 13l5 5 5-5M7 6l5 5 5-5"/>
                </svg>
            </div>
        </a>
    </section>

    <section id="detail" class="fade-in">
        <h2 class="section-title">Imágenes</h2>
        <div class="projects-grid">
            {% for image in images %}
            <div class="glass-card project-card">
                <img src="/media/{{ image }}" alt="{{ name }}" style="width: 100%; height: auto; border-radius: 8px; cursor: pointer;" onclick="openLightbox('/media/{{ image }}')">
            </div>
            {% endfor %}
        </div>

        <h2 class="section-title">Información</h2>
        <div class="glass-card" style="max-width: 800px; margin: 0 auto; padding: 20px;">
            <pre style="white-space: pre-wrap; color: var(--text-secondary); font-family: 'Exo 2', sans-serif;">{{ info }}</pre>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Navigation</h3>
                <ul>
                    <li><a href="{% url 'waifus_gallery' %}">Gallery</a></li>
                    <li><a href="/portfolio/">Portfolio</a></li>
                    <li><a href="/info/">Info</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Waifus</h3>
                <ul>
                    <li><a href="{% url 'waifus_gallery' %}">Ver Galería</a></li>
                    <li><a href="/portfolio/">Portfolio</a></li>
                    <li><a href="/info/">Información</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Connect</h3>
                <p style="color: var(--text-secondary); margin-bottom: 10px;">
                    Explora más waifus
                </p>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Waifuverse.</p>
        </div>
    </footer>

    <!-- Lightbox Modal -->
    <div id="lightbox" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center;">
        <img id="lightbox-img" src="" alt="" style="max-width: 90%; max-height: 90%; cursor: pointer;">
        <span id="lightbox-close" style="position: absolute; top: 20px; right: 30px; color: white; font-size: 40px; cursor: pointer;">&times;</span>
    </div>

<script src="{% static 'tooplate-neural-scripts.js' %}"></script>
<script>
function openLightbox(src) {
    document.getElementById('lightbox-img').src = src;
    document.getElementById('lightbox').style.display = 'flex';
}

document.getElementById('lightbox-close').onclick = function() {
    document.getElementById('lightbox').style.display = 'none';
}

document.getElementById('lightbox').onclick = function(event) {
    if (event.target === this) {
        this.style.display = 'none';
    }
}
</script>

</body>
</html>